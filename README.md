# Домашнє завдання 10: Оптимізація та Метод Монте-Карло

## Завдання 1: Оптимізація виробництва

### Опис завдання

Компанія виробляє два види напоїв: "Лимонад" і "Фруктовий сік". Задача полягає у максимізації загальної кількості вироблених продуктів, враховуючи обмежені ресурси.

**Умови:**
- "Лимонад" виготовляється з: 2 од. Води, 1 од. Цукру, 1 од. Лимонного соку
- "Фруктовий сік" виготовляється з: 2 од. Фруктового пюре, 1 од. Води
- Обмеження ресурсів:
  - Вода: 100 од.
  - Цукор: 50 од.
  - Лимонний сік: 30 од.
  - Фруктове пюре: 40 од.

### Результати виконання

| Параметр | Значення |
|----------|----------|
| **Статус вирішення** | Optimal |
| **Кількість лимонаду** | 30.0 од. |
| **Кількість фруктового соку** | 20.0 од. |
| **Загальна кількість продуктів** | **50.0 од.** |

### Використання ресурсів

| Ресурс | Доступно | Використано | Залишок |
|--------|----------|-------------|---------|
| Вода | 100 | 80 | 20.0 |
| Цукор | 50 | 30 | 20.0 |
| Лимонний сік | 30 | 30 | 0.0 |
| Фруктове пюре | 40 | 40 | 0.0 |

### Висновки

1. **Оптимальне рішення знайдено**: Модель лінійного програмування успішно максимізувала загальну кількість продуктів до 50 одиниць.

2. **Обмежуючі ресурси**: Лимонний сік та Фруктове пюре повністю використані (залишок = 0), що вказує на те, що вони є обмежуючими факторами для виробництва.

3. **Розподіл виробництва**: 
   - Лимонад обмежений лимонним соком (30 од. - максимум)
   - Фруктовий сік обмежений фруктовим пюре (20 од. - максимум, оскільки 40/2 = 20)

4. **Невикористані ресурси**: Вода та Цукор мають залишки, що означає, що вони не є обмежуючими факторами при поточному оптимальному рішенні.

---

## Завдання 2: Обчислення інтеграла методом Монте-Карло

### Опис завдання

Реалізовано два методи Монте-Карло для обчислення визначених інтегралів:
1. **Метод середнього значення (Mean Value Method)**: базується на обчисленні середнього значення функції на інтервалі
2. **Метод "hit-or-miss"**: базується на підрахунку точок, що потрапляють під криву

Результати порівняно з точним значенням, отриманим за допомогою функції `quad` з бібліотеки SciPy.

### Результати виконання

#### Функція 1: f(x) = x²·sin(x) на інтервалі [0, π]

| Метод | Кількість зразків | Результат | Похибка відносно quad |
|-------|-------------------|-----------|------------------------|
| **quad (точне значення)** | - | **5.86959** | - |
| Монте-Карло (mean) | 100 | 5.47690 | 0.39269 |
| Монте-Карло (hit-or-miss) | 100 | 6.02880 | -0.15921 |
| Монте-Карло (mean) | 1,000 | 5.75915 | 0.11044 |
| Монте-Карло (hit-or-miss) | 1,000 | 5.94088 | -0.07129 |
| Монте-Карло (mean) | 100,000 | 5.88091 | -0.01132 |
| Монте-Карло (hit-or-miss) | 100,000 | 5.86502 | 0.00457 |

#### Функція 2: f(x) = exp(-x²) на інтервалі [0, 1]

| Метод | Кількість зразків | Результат | Похибка відносно quad |
|-------|-------------------|-----------|------------------------|
| **quad (точне значення)** | - | **0.74682** | - |
| Монте-Карло (mean) | 100 | 0.71899 | 0.02783 |
| Монте-Карло (hit-or-miss) | 100 | 0.69600 | 0.05082 |
| Монте-Карло (mean) | 1,000 | 0.75816 | -0.01134 |
| Монте-Карло (hit-or-miss) | 1,000 | 0.72720 | 0.01962 |
| Монте-Карло (mean) | 100,000 | 0.74748 | -0.00066 |
| Монте-Карло (hit-or-miss) | 100,000 | 0.74824 | -0.00141 |

#### Функція 3: f(x) = 1/(1+25x²) на інтервалі [0, 1]

| Метод | Кількість зразків | Результат | Похибка відносно quad |
|-------|-------------------|-----------|------------------------|
| **quad (точне значення)** | - | **0.27468** | - |
| Монте-Карло (mean) | 100 | 0.26309 | 0.01159 |
| Монте-Карло (hit-or-miss) | 100 | 0.28800 | -0.01332 |
| Монте-Карло (mean) | 1,000 | 0.27717 | -0.00249 |
| Монте-Карло (hit-or-miss) | 1,000 | 0.28320 | -0.00852 |
| Монте-Карло (mean) | 100,000 | 0.27318 | 0.00150 |
| Монте-Карло (hit-or-miss) | 100,000 | 0.27290 | 0.00178 |

### Порівняльний аналіз та висновки

#### 1. Точність методів

**Метод середнього значення (mean)**:
- Показує кращу точність для всіх трьох функцій
- При 100,000 зразків похибка становить:
  - Функція 1: 0.01132 (0.19% відносної похибки)
  - Функція 2: 0.00066 (0.09% відносної похибки)
  - Функція 3: 0.00150 (0.55% відносної похибки)

**Метод hit-or-miss**:
- Показує гіршу точність, особливо при малій кількості зразків
- При 100,000 зразків похибка становить:
  - Функція 1: 0.00457 (0.08% відносної похибки)
  - Функція 2: 0.00141 (0.19% відносної похибки)
  - Функція 3: 0.00178 (0.65% відносної похибки)

#### 2. Збіжність зі збільшенням кількості зразків

Для всіх функцій спостерігається чіткий тренд зменшення похибки зі збільшенням кількості зразків:

- **100 зразків**: похибка значна (0.16-0.39 для функції 1, 0.03-0.05 для функції 2, 0.01-0.01 для функції 3)
- **1,000 зразків**: похибка помітно зменшується (0.07-0.11 для функції 1, 0.01-0.02 для функції 2, 0.002-0.009 для функції 3)
- **100,000 зразків**: похибка стає дуже малою (< 0.012 для всіх функцій)

Це підтверджує теоретичну властивість методу Монте-Карло: похибка зменшується пропорційно до 1/√n, де n - кількість зразків.

#### 3. Порівняння з точним значенням (quad)

Всі результати, отримані методом Монте-Карло при великій кількості зразків (100,000), узгоджуються з результатами функції `quad` в межах прийнятної похибки:

- **Функція 1**: різниця < 0.012 (0.2% відносної похибки)
- **Функція 2**: різниця < 0.002 (0.2% відносної похибки)
- **Функція 3**: різниця < 0.002 (0.7% відносної похибки)

**Примітка**: Результати отримані з фіксованим seed (42) для відтворюваності експериментів.

#### 4. Загальні висновки

1. **Метод Монте-Карло працює коректно**: Результати узгоджуються з точними значеннями, отриманими через `quad`.

2. **Метод середнього значення ефективніший**: Для всіх протестованих функцій він показує кращу точність при однаковій кількості зразків.

3. **Кількість зразків критична**: Для отримання високої точності необхідно використовувати велику кількість зразків (порядку 100,000+).

4. **Метод Монте-Карло доцільний для складних інтегралів**: Незважаючи на меншу точність порівняно з аналітичними методами, метод Монте-Карло є потужним інструментом для обчислення інтегралів багатовимірних або складних функцій, де аналітичні методи недоступні.

5. **Валідація результатів**: Порівняння з `quad` підтверджує правильність реалізації алгоритму та коректність отриманих результатів.

---

## Технічні деталі

### Використані бібліотеки
- `pulp` - для лінійного програмування (Завдання 1)
- `numpy` - для числових обчислень
- `scipy.integrate` - для точного обчислення інтегралів
- `matplotlib` - для візуалізації графіків

### Запуск програм

```bash
# Завдання 1
uv run python src/task1.py

# Завдання 2
uv run python src/task2.py
```
